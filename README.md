## [User Guide in English](https://mararsh.github.io/MyBox/english_interface.html)

## MyBox：简易工具集

这是利用JavaFx开发的图形化界面程序，目标是提供简单易用的功能。免费开源。

每个版本编译好的包已发布在Release目录下（点击上面的releases页签）。

可以下载exe包，在Windows上无需java环境、无需安装、解包可用：
[MyBox-4.5-exe.zip](https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-4.5-exe.zip) 。

在Linux和Mac上缺省有Java环境，因此只提供jar包而未制作平台安装包。


在已安装JRE或者JDK（Java8/9/10）的环境下，可以下载jar包 
[MyBox-4.5-jar.zip](https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-4.5-jar.zip) ，执行以下命令来启动程序：
<PRE><CODE>     java   -jar   MyBox-4.5.jar</CODE></PRE>


## 资源地址
[项目主页：https://github.com/Mararsh/MyBox](https://github.com/Mararsh/MyBox)

[源代码和编译好的包：https://github.com/Mararsh/MyBox/releases](https://github.com/Mararsh/MyBox/releases)

[在线提交软件需求和问题报告：https://github.com/Mararsh/MyBox/issues](https://github.com/Mararsh/MyBox/issues)

[云盘地址：https://pan.baidu.com/s/1fWMRzym_jh075OCX0D8y8A#list/path=%2F](https://pan.baidu.com/s/1fWMRzym_jh075OCX0D8y8A#list/path=%2F)

[在线帮助：https://mararsh.github.io/MyBox/mybox_help_zh.html](https://mararsh.github.io/MyBox/mybox_help_zh.html)


## 用户手册
[综述 https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-Overview-zh.pdf](https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-Overview-zh.pdf)

[图像工具 https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-ImageTools-zh.pdf](https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-ImageTools-zh.pdf)

[PDF工具 https://github.com/Mararsh/MyBox/releases/download/v3.9/MyBox-UserGuide-3.9-PdfTools-zh.pdf](https://github.com/Mararsh/MyBox/releases/download/v3.9/MyBox-UserGuide-3.9-PdfTools-zh.pdf)

[桌面工具 https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-DesktopTools-zh.pdf](https://github.com/Mararsh/MyBox/releases/download/v4.5/MyBox-UserGuide-4.5-DesktopTools-zh.pdf)

[网络工具 https://github.com/Mararsh/MyBox/releases/download/v3.9/MyBox-UserGuide-3.9-NetworkTools-zh.pdf](https://github.com/Mararsh/MyBox/releases/download/v3.9/MyBox-UserGuide-3.9-NetworkTools-zh.pdf)


## 当前版本
当前是版本4.5，已实现的特点：
```
1. PDF工具：
	A. 将PDF文件的每页转换为一张图片，包含图像密度、色彩、格式、压缩、质量、色彩转换等选项。
	B. 将多个图片合成PDF文件，可以设置压缩选项、页面尺寸、页边、页眉、作者等。
	   支持中文，程序自动定位系统中的字体文件，用户也可以输入ttf字体文件路径。
	C. 压缩PDF文件的图片，设置JPGE质量或者黑白色阈值。
	D. 合并多个PDF文件。
	E. 分割PDF文件为多个PDF文件，可按页数或者文件数来均分，也可以设置起止列表。
	F. 将PDF中的图片提取出来。可以指定页码范围。
	G. 将PDF文件中的文字提取出来，可以定制页的分割行。
	H. PDF的批量处理。
	I. 可设置PDF处理的主内存使用量。
2. 图像工具：
	A. 图像处理
		1）调整图像的大小：按比例收缩、或设置像素。四种保持宽高比的选项。
		2）调整图像的颜色：针对红/蓝/绿/黄/青/紫通道、饱和度、明暗、色相，
			进行增加、减少、设值、过滤、取反色的操作
		3）制作效果：模糊、清晰、锐化、浮雕、边沿检测、海报（减色）、阈值化、灰色、黑白色、褐色。
			也可以通过定义和选择卷积核来制作效果。
		4）其它图像处理操作：剪裁、文字、覆盖（马赛克/磨砂/图片）、圆角、阴影、斜拉、镜像、旋转、切边、加边。
			多种参数可设置。
		5）图像操作的范围：全部、矩形、圆形、抠图、颜色匹配、矩形中颜色匹配、圆形中颜色匹配。
			颜色匹配可以针对：红/蓝/绿通道、饱和度、明暗、色相，色距可定义。
			范围可作用于：颜色调整、效果、和卷积。可简单通过左右键点击来确定范围，
			范围的参数（如抠图的点集和颜色集合）可设置。均可反选。
		6）对上一步的撤销和重做。也可以随时恢复原图。修改历史可自动保存，以便退回到前面的修改；
			可设置修改历史的个数。
		7）同目录下图像的导览。
		8）选择是否显示对照图。可以选择其它图片为对照图。
	B. 图像的批量处理。
	C. 多帧图像文件
		1）查看、提取多帧图像文件
		2）创建、编辑多帧tiff文件
		3）查看/提取/创建/编辑动画Gif文件。可设置间隔、是否循环、图片尺寸
	D. 多图合一
		1）图片的合并。支持排列选项、背景颜色、间隔、边沿、和尺寸选项。
		2）图片的混合。支持选择交叉区域、多种混合模式。
		3）将多个图片合成PDF文件
	E. 图像局部化
		1）图像的分割。支持均等分割和定制分割。可以保存为多个图像文件、多帧Tiff文件、或者PDF。
		2）图像的降采样。可以设置采样区域、采样比例。
	F. 大图片的处理
		1）评估加载整个图像所需内存,判断能否加载整个图像。
		2）若可用内存足够载入整个图像，则读取图像所有数据做下一步处理。尽可能内存操作而避免文件读写。
		3）若内存可能溢出，则采样读取图像数据做下一步处理。
		4）采样比的选择：即要保证采样图像足够清晰、又要避免采样数据占用过多内存。
		5）采样图像主要用于显示图像。已被采样的大图像，不适用于图像整体的操作和图像合并操作。
		6）一些操作，如分割图像、降采样图像，可以局部读取图像数据、边读边写，因此适用于大图像。
	G. 可将图像或图像的选中部分复制到系统粘贴板（Ctrl-c）。
	H. 查看图像的元数据和属性。
	I. 同屏查看多图，可以分别或者同步旋转和缩放。支持导览。
	J. 将图片转换为其它格式，包含色彩、长宽、压缩、质量等选项。
	K. 调色盘
	L. 像素计算器
	M.卷积核管理器
	N.快捷键
3. 文件和目录工具：
	A. 目录/文件重命名，包含文件名和排序的选项。被重命名的文件可以全部恢复或者指定恢复原来的名字。
	B. 目录同步，包含复制子目录、新文件、特定时间以后已修改文件、原文件属性，以及删除源目录不存在文件和目录，等选项。
	C. 整理文件，将文件按修改时间或者生成时间重新归类在新目录下。
	   此功能可用于处理照片、游戏截图、和系统日志等需要按时间归档的批量文件。
	D. 文字编码。自动检测或手动设置文件编码；设置目标文件编码以实现转码；支持BOM设置；十六进制同步显示、同步选择；显示行号。
4. 网络工具：
	A. 网页编辑器
		a. 富文本方式编辑本地网页或在线网页。
		b. 代码编辑器可以同步编辑html。
		c. 网页浏览器可以同步编辑器内容、也可以加载在线网页。支持前后导览、缩放字体、截图页面为整图或者PDF文件
	B. 微博截图工具
		a. 自动保存任意微博账户的任意月份的微博内容
		b. 设置起止月份。
		c. 确保页面完全加载，可以展开页面包含的评论、可以展开页面包含的所有图片。
		d. 将页面保存为本地html文件。由于微博是动态加载内容，本地网页无法正常打开，仅供获取其中的文本内容。
		e. 将页面截图保存为PDF。可以设置页尺寸、边距、作者、以及图片格式。
		f. 将页面包含的所有图片的原图全部单独保存下来。
		g. 实时显示处理进度。
		h. 可以随时中断处理。程序自动保存上次中断的月份并填入作本次的开始月份。
		i. 可以设置错误时重试次数。
5. 支持图像格式：png,jpg,bmp,tif,gif,wbmp,pnm,pcx。尚不能处理动态gif。
6. 闹钟，包括时间选项和音乐选项，支持铃音“喵”、wav铃音、和MP3铃音，可以在后端运行。
7. 设置：切换语言、是否显示注释、PDF处理选项、图像处理选项、退出程序时是否关闭闹钟、清除个人设置，以及更多的参数设置。
8. 多种界面皮肤。
9. 国际化。实时切换。目前支持中文、英文。扩展语言只需编写资源文件。
```

## 开发日志
```
2018-12-15 版本4.5 文字编码：自动检测或手动设置文件编码；设置目标文件编码以实现转码；支持BOM设置；
十六进制同步显示、同步选择；显示行号。批量文字转码。
图像分割支持按尺寸的方式。
可将图像或图像的选中部分复制到系统粘贴板（Ctrl-c）。
在查看图像的界面可裁剪保存。

2018-12-03 版本4.4 多帧图像文件的查看、提取、创建、编辑。支持多帧Tiff文件。
对于所有以图像文件为输入的操作，处理多帧图像文件的情形。
对于所有以图像文件为输入的操作，处理极大图像（加载所需内存超出可用内存）的情形。自动评估、判断、给出提示信息和下一步处理的选择。
对于极大图像，支持局部读取、边读边写的图像分割，可保存为多个图像文件、多帧Tiff、或者PDF。
对于极大图像，支持降采样。可设置采样区域和采样比率。

2018-11-22 版本4.3 支持动画Gif。查看动画Gif：设置间隔、暂停/继续、显示指定帧并导览上下帧。
提取动画Gif：可选择起止帧、文件类型。
创建/编辑动画Gif：增删图片、调整顺序、设置间隔、是否循环、选择保持图片尺寸、或统一设置图片尺寸、另存，所见即所得。
更简洁更强力的图像处理“范围”：全部、矩形、圆形、抠图、颜色匹配、矩形中颜色匹配、圆形中颜色匹配；
颜色匹配可针对：红/蓝/绿通道、饱和度、明暗、色相；可方便地增减抠图的点集和颜色列表；均可反选。
归并图像处理的“颜色”、“滤镜”、“效果”、“换色”，以减少界面选择和用户输入。
多图查看界面：可调整每屏文件数；更均匀地显示图片。

2018-11-13 版本4.2 图像处理的“范围”：全部、抠图、矩形、圆形、色彩匹配、色相匹配、矩形/圆形累加色彩/色相匹配。
“抠图”如PhotoShop的魔术棒或者windows画图的油漆桶。
“范围”可应用于：色彩增减、滤镜、效果、卷积、换色。可简单通过左右键点击来确定范围。
卷积管理器：可自动填写高斯分布值；添加处理边缘像素的选项。
目录重命名：可设置关键字列表来过滤要处理的文件。
调整和优化图像处理的代码。
更多的快捷键。

2018-11-08 版本4.1 图像的“覆盖”处理。可在图像上覆盖：矩形马赛克、圆形马赛克、矩形磨砂玻璃、圆形磨砂玻璃、或者图片。
可设置马赛克或磨砂玻璃的范围和粒度；可选内部图片或用户自己的图片；可设置图片的大小和透明度。
图像的“卷积”处理。可选择卷积核来加工图像。可批量处理。
卷积核管理器。自定义（增/删/改/复制）图像处理的卷积核，可自动归一化，可测试。提供示例数据。
图像滤镜：新增黄/青/紫通道。

2018-11-04 版本4.0  图像色彩调整：新增黄/青/紫通道。尤其黄色通道方便生成“暖色”调图片。
图像滤镜：新增“褐色”。可以生成怀旧风格的图片。
图像效果：新增“浮雕”，可以设置方向、半径、是否转换为灰色。
图像的混合：可设置图像交叉位置、可选择多种常用混合模式。
在线帮助：新增一些关键信息。

2018-10-26 版本3.9  内嵌Derby数据库以保存程序数据；确保数据正确从配置文件迁移到数据库。
图像处理：保存修改历史，以便退回到前面的修改；用户可以设置历史个数。
用户手册的英文版。

2018-10-15 版本3.8 优化代码：拆分图像处理的大类为各功能的子类。
优化界面控件，使工具更易使用。设置快捷键。
图像处理添加三个滤镜：红/蓝/绿的单通道反色。水印文字可以设置为“轮廓”。

2018-10-09 版本3.7 微博截图工具：利用Javascript事件来依次加载图片，确保最小间隔以免被服务器判定为不善访问，
同时监视最大加载间隔以免因图片挂了或者加载太快未触发事件而造成迭代中断。
图像处理“效果”：模糊、锐化、边沿检测、海报（减色）、阈值化。

2018-10-04 版本3.6 微博截图工具：继续调优程序逻辑以确保界面图片全部加载；整理代码以避免内存泄露。
降低界面皮肤背景的明亮度和饱和度。
在文档中添加关于界面分辨率的介绍。

2018-10-01 版本3.5 微博截图工具：调优程序逻辑，以确保界面图片全部加载。
提供多种界面皮肤。

2018-09-30 版本3.4 修正问题：1）微博截图工具，调整页面加载完成的判断条件，以保证页面信息被完整保存。
2）关闭/切换窗口时若任务正在执行，用户选择“取消”时应留在当前窗口。
新增功能：1）可以设置PDF处理的最大主内存和临时文件的目录；2）可以清除个人设置。

2018-09-30 版本3.3 最终解决微博网站认证的问题。已在Windows、CentOS、Mac上验证。

2018-09-29 版本3.2 微博截图功能：1）在Linux和Windows上自动导入微博证书而用户无需登录可直接使用工具。
但在Mac上没有找到导入证书的途径，因此苹果用户只好登录以后才能使用。
2）可以展开页面上所有评论和所有图片然后截图。
3）可以将页面中所有图片的原图保存下来。（感觉好酷）

2018-09-26 版本3.1 所有图像操作都可以批量处理了。修正颜色处理算法。
设置缺省字体大小以适应屏幕分辨率的变化。用户手册拆分成各个工具的分册了。
提示用户：在使用微博截图功能之前需要在MyBox浏览器里成功登录一次以安装微博证书、
（正在寻求突破这一限制的办法。Mybox没有兴趣接触用户个人信息）。

2018-09-18 版本3.0 微博截图工具：可以只截取有效内容（速度提高一倍并且文件大小减小一半）、
可以展开评论（好得意这个功能！）、可以设置合并PDF的最大尺寸。
修正html编辑器的错误并增强功能。

2018-09-17 版本2.14 微博截图工具：设置失败时重试次数、以应对网络状况很糟的情况；
当某个月的微博页数很多时，不合并当月的PDF文件，以避免无法生成非常大的PDF文件的情况（有位博主一个月发了36页微博~）。。

2018-09-15 版本2.13 分开参照图和范围图。确保程序退出时不残留线程。批量PDF压缩图片。
微博截图工具：自动保存任意微博账户的所有微博内容，可以设置起止月份，可以截图为PDF、也可以保存html文件
（由于微博是动态加载内容，本地网页无法正常打开，仅供获取其中的文本内容）。
如果微博修改网页访问方式，此工具将可能失效。

2018-09-11 版本2.12 合并多个图片为PDF文件、压缩PDF文件的图片、合并PDF、分割PDF。 
支持PDF写中文，程序自动定位系统中的字体文件，用户也可以输入ttf字体文件路径。 
提示信息的显示更平滑友好。网页浏览器：字体缩放，设置截图延迟、截图可保存为PDF。

2018-09-06 版本2.11 图片的合并，支持排列选项、背景颜色、间隔、边沿、和尺寸选项。
网页浏览器，同步网页编辑器，把网页完整内容保存为一张图片。图片处理：阴影、圆角、加边。
确保大图片处理的正确性和性能。

2018-08-11 版本2.10 图像的分割，支持均等分割个和定制分割。使图像处理的“范围”更易用。
同屏查看多图不限制文件个数了。

2018-08-07 版本2.9 图像的裁剪。图像处理的“范围”：依据区域（矩形或圆形）和颜色匹配，可用于局部处理图像。

2018-07-31 版本2.8 图像的切边、水印、撤销、重做。Html编辑器、文本编辑器。

2018-07-30 版本2.7 图像的变形：旋转、斜拉、镜像。

2018-07-26 版本2.6 增强图像的换色：可以选择多个原色，可以按色彩距离或者色相距离来匹配。支持透明度处理。

2018-07-25 版本2.5 调色盘。图像的换色：可以精确匹配颜色、或者设置色距，此功能可以替换图像背景色、或者清除色彩噪声。

2018-07-24 版本2.4 完善图像处理和多图查看：平滑切换、对照图、像素调整。

2018-07-18 版本2.3 闹钟，包括时间选项和音乐选项，支持wav铃音和MP3铃音，可以在后端运行。感谢我家乖乖贡献了“喵”。

2018-07-11 版本2.2 修正线程处理逻辑的漏洞。整理文件，将文件按修改时间或者生成时间重新归类在新目录下。
此功能可用于处理照片、游戏截图、和系统日志等需要按时间归档的批量文件。

2018-07-09 版本2.1 完善图片处理的界面，支持导览。
目录同步，包含复制子目录、新文件、特定时间以后已修改文件、原文件属性，以及删除源目录不存在文件和目录，等选项。

2018-07-06 版本2.0 批量提取PDF文字、批量转换图片。
目录文件重命名，包含文件名和排序的选项，被重命名的文件可以全部恢复或者指定恢复原来的名字。

2018-07-03 版本1.9 修正问题。提取PDF文字时可以定制页分割行。
完善图像处理：参数化调整饱和度、明暗、色相；滤镜：灰色、反色、黑白色。

2018-07-01 版本1.8 将PDF文件中的文字提取出来。处理图片：调整饱和度、明暗，或者转换为灰色、反色。

2018-06-30 版本1.7 完善像素计算器。支持同屏查看最多十张图，可以分别或者同步旋转和缩放。

2018-06-27 版本1.6 将图片转换为其它格式，支持色彩、长宽、压缩、质量等选项。
提供像素计算器。新增图像格式：gif, wbmp, pnm, pcx。

2018-06-24 版本1.5 提取PDF中的图片保存为原格式。
支持批量转换和批量提取。感谢 “https://shuge.org/” 的帮助：书格提出提取PDF中图片的需求。

2018-06-21 版本1.4 读写图像的元数据,目前支持图像格式：png, jpg, bmp, tif。
感谢 “https://shuge.org/” 的帮助：书格提出图像元数据读写的需求。

2018-06-15 版本1.3 修正OTSU算法的灰度计算；优化代码：提取共享部件；支持PDF密码；使界面操作更友好。

2018-06-14 版本1.2 针对黑白色添加色彩转换的选项；自动保存用户的选择；优化帮助文件的读取。
感谢 “https://shuge.org/” 的帮助：书格提出二值化转换阈值的需求。

2018-06-13 版本1.1 添加：转换格式tiff和raw，压缩和质量选项，以及帮助信息。
感谢 “https://shuge.org/” 的帮助：书格提出tiff转换的需求。

2018-06-12 版本1.0 实现功能：将PDF文件的每页转换为一张图片，包含图像密度、类型、格式等选项，并且可以暂停/继续转换过程。
```

## 实现基础
MyBox使用NetBeans 8.2和JavaFX Scene Builder 2.0开发：

[https://netbeans.org/](https://netbeans.org/)

[https://www.oracle.com/technetwork/java/javafxscenebuilder-1x-archive-2199384.html](https://www.oracle.com/technetwork/java/javafxscenebuilder-1x-archive-2199384.html)


基于以下开源软件/开源库：

[JavaFx  https://docs.oracle.com/javafx/2/](https://docs.oracle.com/javafx/2/)
	
[PDFBox  https://pdfbox.apache.org/](https://pdfbox.apache.org/)
	
[jai-imageio  https://github.com/jai-imageio/jai-imageio-core](https://github.com/jai-imageio/jai-imageio-core)
	
[javazoom  http://www.javazoom.net/index.shtml](http://www.javazoom.net/index.shtml)
	
[log4j   https://logging.apache.org/log4j/2.x/](https://logging.apache.org/log4j/2.x/)
	
[Derby   http://db.apache.org/derby/](http://db.apache.org/derby/)

[GifDecoder   https://github.com/DhyanB/Open-Imaging/](https://github.com/DhyanB/Open-Imaging/)

[EncodingDetect  https://www.cnblogs.com/ChurchYim/p/8427373.html](https://www.cnblogs.com/ChurchYim/p/8427373.html)


## 主界面
![About](https://mararsh.github.io/MyBox/0.png)


